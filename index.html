<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <title>Slides</title>

    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/reveal.js/4.4.0/reveal.css"
    />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/reveal.js/4.4.0/theme/black.css"
      id="theme"
    />
  </head>

  <body>
    <div class="reveal">
      <div class="slides"></div>
    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/reveal.js/4.4.0/reveal.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/reveal.js/4.4.0/plugin/markdown/markdown.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/reveal.js/4.4.0/plugin/highlight/highlight.js"></script>
    <script>
      const queryParams = Object.fromEntries(
        window.location.search
          .substring(1)
          .split("&")
          .map(pair => pair.split("=").map(decodeURIComponent))
      );
      const values = {
        markdown: "README.md",
        title: "Slides",
        hsep: String.raw`^\*\*\*\n\*\*\*\n`,
        vsep: String.raw`^\*\*\*\n`,
        width: 1600,
        height: 1000,
        ...queryParams,
      };

      const section = document.createElement("section");
      section.setAttribute("data-markdown", values.markdown);
      section.setAttribute("data-separator", values.hsep);
      section.setAttribute("data-separator-vertical", values.vsep);

      document.querySelector("div.slides").appendChild(section);
      document.querySelector("title").innerText = values.title;

      Reveal.initialize({
        width: values.width,
        height: values.height,
        slideNumber: true,
        hash: true,
        plugins: [RevealMarkdown, RevealHighlight],
      });
    </script>
  </body>
</html>
